<!DOCTYPE html>
<html lang="en" xmlns:th="">

<head>
    <meta charset="utf-8">
    <title>Life</title>
    <link href="https://life.bbca.bg/img/Group-1629.svg" rel="icon">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="" name="keywords">
    <meta content="" name="description">
    <th:block th:insert="~{fragments/links}"></th:block>
    <style>

        .spinner {
            opacity: 80%;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            border: 5px solid #ff91b6;
            border-bottom: 5px solid #b81d53;
            animation: spin 2s linear infinite;
            display: block;
            margin-left: auto;
            margin-right: auto;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg); /* Start at 0 degrees */
            }
            100% {
                transform: rotate(360deg); /* Rotate to 360 degrees */
            }
        }
        .search-box {
            display: flex;
            align-items: center;
            border: 3px solid #6ec4b0;
            border-radius: 55px;
            padding: 3px 3px;
            background: white;
        }
        .search-box input {
            border: none;
            outline: none;
            font-size: 16px;
            padding: 8px;
            flex: 1;
        }
        .search-box button {
            background: none;
            border: none;
            cursor: pointer;
        }


        .btn-primary {
            width: 90%;
            max-width: 500px;  /* Adjust as per your layout */
            padding: 15px 20px;
            font-size: 18px;  /* Adjust font size if needed */
            text-align: center;
            border-radius: 50px;
        }
                .btn-danger {
            width: 100%;
            max-width: 500px;  /* Adjust as per your layout */
            padding: 15px 20px;
            font-size: 18px;  /* Adjust font size if needed */
            text-align: center;
            border-radius: 50px;
        }

         #loadingText {
            font-size: 14px;
            color: #888;
            font-style: italic;
            text-align: center;
            margin-top: 10px;
        }

        * {
             box-sizing: border-box;
        }

         html, body {
             margin: 0;
             padding: 0;
             overflow-x: hidden;
         }

        .typing-bubble {
            display: flex;
            gap: 5px;
            align-items: center;
            justify-content: center;
            margin-top: 6px;
        }

        .typing-bubble span {
            width: 15px;
            height: 15px;
            background-color: #ff6f91;
            border-radius: 50%;
            animation: typing 1.5s infinite;
        }

        .typing-bubble span:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-bubble span:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes typing {
            0%, 80%, 100% {
                transform: scale(0);
            }
        40% {
                transform: scale(1);
            }
        }
        .quote-box {
            position: relative;
            background: url('/img/ribbon.png') no-repeat center center;
            background-size: cover;
            padding: 20px;
            border-radius: 20px;
            text-align: center;
            font-size: 1.2em;
            font-style: italic;
            color: white;
            font-weight: bold;
            width: 80%;
            max-width: 500px;
            margin: 20px auto;
        }

        /* Overlay Effect */
        .quote-box::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgb(47 27 86 / 56%);
            border-radius: 20px;
        }

        /* Text should be on top of the overlay */
        .quote-text {
            position: relative;
            z-index: 1;
        }

    .card {
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
    width: 376px; /* Matches SVG dimensions */
    height: 171px; /* Matches SVG dimensions */
    border-radius: 20px; /* Matches SVG rx */
    padding-bottom: 20px;
    background-color: #FFE5E5; /* Fallback for when the image isn't loaded */
}

.card img {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover; /* Ensures it scales correctly */
}


     .text {
    position: absolute;
    top: 35px;
    left: 35px;
    right: 35px;
    bottom: 35px;
    font-family: 'Inter', sans-serif;
    font-size: 17px;
    font-weight: 700;
    font-style: italic;
    color: #7A437E;
    line-height: 1.4;
    overflow-wrap: break-word;
    max-width: calc(100% - 70px);
    word-wrap: normal;

    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
}
    </style>
</head>

<body>
<th:block th:insert="~{fragments/tagManager}"></th:block>
<th:block th:insert="~{fragments/header}"></th:block>
<!-- Contact Start -->
<center>
    <div style="max-width: 600px;">
        <div class="card">
            <!-- Background Rectangle -->
            <img alt="Rectangle Background" src="/img/rectangle.svg">

            <!-- Heart Shapes -->
            <img alt="Hearts" src="/img/upHearts.svg"
                 style="position: absolute; top: -40px; left: 85px; width: 200px; height: auto; z-index: 1;">

            <!-- Text -->
            <div class="text" th:text="${dailyReminder}"></div>

            <!-- Heart Shapes -->
            <img alt="Hearts" src="/img/bottomHearts.svg"
                 style="position: absolute; top: 120px; left: 85px; width: 200px; height: auto; z-index: 1;">
        </div> <br>
        <div class="container py-0">
            <div class="text-center mx-auto mb-5 wow fadeInUp" data-wow-delay="0.1s" style="max-width: 600px;">
                <br>
                <div class="d-flex align-items-center mb-4">
                    <h2 class="display-6 mb-1" style="text-align: left; margin-left: 15px;">ПЕРСОНАЛИЗИРАНА ИНФОРМАЦИЯ</h2>
                </div>
            </div>
            <div class="row g-5 align-items-center">
                <div class="wow fadeInLeft" data-wow-delay="0.1s">
                    <center>
                        <div class="row g-3">
                            <div class="col-12">
                                <a href="/recommendedStudies">
                                    <button class="btn btn-danger w-100 py-3">Препоръчителни изследвания</button>
                                </a>
                            </div>
                            <div class="col-12">
                                <a href="/diagnosisUploadFile">
                                    <button class="btn btn-danger w-100 py-3">Разбиране на диагнозата</button>
                                </a>
                            </div>
                            <div class="col-12" style="display: none;">
                                <button class="btn btn-danger w-100 py-3">Вече направена операция</button>
                            </div>
                            <div class="col-12" style="display: none;">
                                <button class="btn btn-danger w-100 py-3">Предписано лечение</button>
                            </div>
                            <div class="col-12">
                                <a href="researchSideEffects">
                                    <button class="btn btn-danger w-100 py-3">Справяне със странични ефекти</button>
                                </a>
                            </div>
                        </div>
                    </center>
                </div>
            </div>
        </div>
        <div class="container mt-5" style="max-width: 600px;">

            <!--            <center>-->
            <!--                <div class="input-group">-->
            <!--                    <div class="typing-bubble" id="typing-indicator" style="display: none;">-->
            <!--                        <span></span>-->
            <!--                        <span></span>-->
            <!--                        <span></span>-->
            <!--                    </div>-->
            <!--                </div>-->
            <!--            </center>-->
            <form class="search-box" id="chatForm" method="post" th:action="@{/chat}">
                <input type="text" name="message" placeholder="Задайте въпрос, търсете информация..." required="" style="background-color: transparent;">
                <button type="submit">
                    <img src="/img/search.svg" alt="Search">
                </button>
            </form>
            <!-- Loading text (initially hidden) -->
            <div id="loadingText" style="display:none; margin-top: 10px; font-size: 14px; color: #888;">
                <div class="spinner"></div>
                Моля, изчакайте, резултатът се обработва. Това може да отнеме няколко секунди... Очаквайте отговор от
                LifeAI.
            </div>


            <!-- The response section that will appear on the new page -->
            <div class="mt-5" th:if="${response}">
                <h4>Response:</h4>
                <p th:text="${response}">AI Response will appear here...</p>
            </div>
        </div>
        <div class="container py-5">
            <div class="alert alert-success" role="alert" th:if="${successMessage}">
                <span th:text="${successMessage}"></span>
            </div>

            <div class="text-center mx-auto mb-5 wow fadeInUp" data-wow-delay="0.1s" style="max-width: 600px;">
                <div class="d-flex align-items-center mb-4">
                    <h2 class="display-6 mb-1" style="text-align: left; margin-left: 15px;">ОБЩА ИНФОРМАЦИЯ</h2>
                </div>
            </div>
            <div class="row g-5 align-items-center">
                <div class="wow fadeInLeft" data-wow-delay="0.1s">
                    <center>
                        <div class="row g-3">
                            <div class="col-12">
                                <a href="/limfedem">
                                    <button class="btn btn-primary w-100 py-3">Лимфедем</button>
                                </a>
                            </div>
                            <div class="col-12">
                                <a href="/organPreservingSurgery">
                                    <button class="btn btn-primary w-100 py-3">Органосъхраняваща операция</button>
                                </a>
                            </div>
                            <div class="col-12" style="display: none;">
                                <button class="btn btn-primary w-100 py-3">Лекарства</button>
                            </div>
                            <div class="col-12">
                                <a href="/menopause">
                                    <button class="btn btn-primary w-100 py-3">Предизвикана менопауза</button>
                                </a>
                            </div>
                            <div class="col-12">
                                <a href="/recipes">
                                    <button class="btn btn-primary w-100 py-3">Рецепти и диета</button>
                                </a>
                            </div>
                            <div class="col-12">
                                <a href="/exercises">
                                    <button class="btn btn-primary w-100 py-3">Упражнения</button>
                                </a>
                            </div>
                            <div class="col-12">
                                <a href="/alternativeMedicine">
                                    <button class="btn btn-primary w-100 py-3">Допълнителни терапии
                                    </button>
                                </a>
                            </div>
                        </div>
                    </center>
                </div>
            </div>
        </div>
    </div>
</center>
<!-- Contact End -->
<th:block th:insert="~{fragments/footer}"></th:block>
<script>
    const form = document.getElementById("chatForm");
    const loadingText = document.getElementById("loadingText");


    form.addEventListener("submit", function(event) {
        loadingText.style.display = "block";


        // disable the submit button to prevent multiple submissions
        form.querySelector("button[type='submit']").disabled = true;
    });
</script>
</body>

</html>