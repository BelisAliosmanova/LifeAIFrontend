<!DOCTYPE html>
<html lang="en" xmlns:th="">

<head>
    <meta charset="utf-8">
    <title>Life AI</title>
    <link href="https://life.bbca.bg/img/Group-1629.svg" rel="icon">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="" name="keywords">
    <meta content="" name="description">
    <th:block th:insert="~{fragments/links}"></th:block>
    <style>

        .spinner {
            opacity: 80%;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            border: 5px solid #ff91b6;
            border-bottom: 5px solid #b81d53;
            animation: spin 2s linear infinite;
            display: block;
            margin-left: auto;
            margin-right: auto;
        }

        @keyframes spin {
        0% {
            transform: rotate(0deg); /* Start at 0 degrees */
        }
        100% {
            transform: rotate(360deg); /* Rotate to 360 degrees */
        }
    }
            .search-box {
                display: flex;
                align-items: center;
                margin-top: 20px;
            }

            .search-box input[type="text"] {
                border-radius: 50px 0 0 50px;
                padding-left: 20px;
                border-right: none;
            }

            .search-box button {
                border-radius: 0 50px 50px 0;
            }

            .search-box .input-group {
                flex-grow: 1;
            }

            .search-box .btn {
                background-color: #007bff;
                color: white;
            }

            .btn-primary {
                width: 90%;
                max-width: 500px;  /* Adjust as per your layout */
                padding: 15px 20px;
                font-size: 18px;  /* Adjust font size if needed */
                text-align: center;
                border-radius: 50px;
            }
                    .btn-danger {
                width: 100%;
                max-width: 500px;  /* Adjust as per your layout */
                padding: 15px 20px;
                font-size: 18px;  /* Adjust font size if needed */
                text-align: center;
                border-radius: 50px;
            }

             #loadingText {
                font-size: 14px;
                color: #888;
                font-style: italic;
                text-align: center;
                margin-top: 10px;
            }

            * {
             box-sizing: border-box;
            }
             html, body {
             margin: 0;
             padding: 0;
             overflow-x: hidden;
             }
                .typing-bubble {
            display: flex;
            gap: 5px;
            align-items: center;
            justify-content: center;
            margin-top: 6px;
        }

        .typing-bubble span {
            width: 15px;
            height: 15px;
            background-color: #ff6f91;
            border-radius: 50%;
            animation: typing 1.5s infinite;
        }

        .typing-bubble span:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-bubble span:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes typing {
            0%, 80%, 100% {
                transform: scale(0);
            }
        40% {
                transform: scale(1);
            }
        }
        .quote-box {
            position: relative;
            background: url('/img/ribbon.png') no-repeat center center;
            background-size: cover;
            padding: 20px;
            border-radius: 20px;
            text-align: center;
            font-size: 1.2em;
            font-style: italic;
            color: white;
            font-weight: bold;
            width: 80%;
            max-width: 500px;
            margin: 20px auto;
        }

        /* Overlay Effect */
        .quote-box::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgb(188 26 135 / 49%);
            border-radius: 20px;
        }

        /* Text should be on top of the overlay */
        .quote-text {
            position: relative;
            z-index: 1;
        }
    </style>
</head>

<body>
<th:block th:insert="~{fragments/header}"></th:block>
<!-- Contact Start -->
<center>
    <div style="max-width: 600px;">
        <div class="container py-0">
            <div class="text-center mx-auto mb-5 wow fadeInUp" data-wow-delay="0.1s" style="max-width: 600px;">
                <div class="quote-box">
                    <span class="quote-text" th:text="${dailyReminder}"></span>
                </div>
                <div class="d-flex align-items-center mb-4">
                    <img alt="person-male--v2" height="64"
                         src="https://img.icons8.com/pastel-glyph/64/person-male--v2.png"
                         width="64"/>
                    <h2 class="display-6 mb-1" style="text-align: left;">Персонализирана информация</h2>
                </div>
            </div>
            <div class="row g-5 align-items-center">
                <div class="wow fadeInLeft" data-wow-delay="0.1s">
                    <center>
                        <div class="row g-3">
                            <div class="col-12">
                                <a href="/recommendedStudies">
                                    <button class="btn btn-danger w-100 py-3">Препоръчителни изследвания</button>
                                </a>
                            </div>
                            <div class="col-12">
                                <a href="/diagnosisUploadFile">
                                    <button class="btn btn-danger w-100 py-3">Разбиране на диагнозата</button>
                                </a>
                            </div>
                            <div class="col-12" style="display: none;">
                                <button class="btn btn-danger w-100 py-3">Вече направена операция</button>
                            </div>
                            <div class="col-12" style="display: none;">
                                <button class="btn btn-danger w-100 py-3">Предписано лечение</button>
                            </div>
                            <div class="col-12">
                                <a href="researchSideEffects">
                                    <button class="btn btn-danger w-100 py-3">Справяне със странични ефекти</button>
                                </a>
                            </div>
                        </div>
                    </center>
                </div>
            </div>
        </div>
        <div class="container mt-3" style="max-width: 600px;">

            <!--            <center>-->
            <!--                <div class="input-group">-->
            <!--                    <div class="typing-bubble" id="typing-indicator" style="display: none;">-->
            <!--                        <span></span>-->
            <!--                        <span></span>-->
            <!--                        <span></span>-->
            <!--                    </div>-->
            <!--                </div>-->
            <!--            </center>-->
            <form class="search-box" id="chatForm" method="post" th:action="@{/chat}">
                <input class="form-control" id="message" name="message"
                       placeholder="Задайте въпрос, търсете информация в LifeAI..."
                       required type="text">
                <button class="btn btn-search" type="submit">
                    <img alt="Search" src="https://img.icons8.com/ios-glyphs/30/0000/search.png">
                </button>
                <br>
            </form>
            <!-- Loading text (initially hidden) -->

            <div id="loadingText" style="display:none; margin-top: 10px; font-size: 14px; color: #888;">
                <div class="spinner"></div>
                Моля, изчакайте, резултатът се обработва. Това може да отнеме няколко секунди... Очаквайте отговор от
                LifeAI.
            </div>


            <!-- The response section that will appear on the new page -->
            <div class="mt-5" th:if="${response}">
                <h4>Response:</h4>
                <p th:text="${response}">AI Response will appear here...</p>
            </div>
        </div>
        <div class="container py-5">
            <div class="alert alert-success" role="alert" th:if="${successMessage}">
                <span th:text="${successMessage}"></span>
            </div>

            <div class="text-center mx-auto mb-5 wow fadeInUp" data-wow-delay="0.1s" style="max-width: 600px;">
                <div class="d-flex align-items-center mb-4">
                    <img alt="info--v1" class="me-3" height="50" src="https://img.icons8.com/ios/50/info--v1.png"
                         width="50"/>
                    <h2 class="display-6 mb-1" style="text-align: left;">Обща информация</h2>
                </div>
            </div>
            <div class="row g-5 align-items-center">
                <div class="wow fadeInLeft" data-wow-delay="0.1s">
                    <center>
                        <div class="row g-3">
                            <div class="col-12">
                                <a href="/limfedem">
                                    <button class="btn btn-primary w-100 py-3">Лимфедем</button>
                                </a>
                            </div>
                            <div class="col-12">
                                <a href="/organPreservingSurgery">
                                    <button class="btn btn-primary w-100 py-3">Органосъхраняваща операция</button>
                                </a>
                            </div>
                            <div class="col-12" style="display: none;">
                                <button class="btn btn-primary w-100 py-3">Лекарства</button>
                            </div>
                            <div class="col-12">
                                <a href="/menopause">
                                    <button class="btn btn-primary w-100 py-3">Предизвикана менопауза</button>
                                </a>
                            </div>
                            <div class="col-12">
                                <a href="/recipes">
                                    <button class="btn btn-primary w-100 py-3">Рецепти и диета</button>
                                </a>
                            </div>
                            <div class="col-12">
                                <a href="/exercises">
                                    <button class="btn btn-primary w-100 py-3">Упражнения</button>
                                </a>
                            </div>
                            <div class="col-12">
                                <a href="/alternativeMedicine">
                                    <button class="btn btn-primary w-100 py-3">Доказани алтернативни терапии
                                    </button>
                                </a>
                            </div>
                        </div>
                    </center>
                </div>
            </div>
        </div>
    </div>
</center>
<!-- Contact End -->
<th:block th:insert="~{fragments/footer}"></th:block>
<script>
    const form = document.getElementById("chatForm");
    const loadingText = document.getElementById("loadingText");


    form.addEventListener("submit", function(event) {
        loadingText.style.display = "block";


        // disable the submit button to prevent multiple submissions
        form.querySelector("button[type='submit']").disabled = true;
    });
</script>
</body>

</html>