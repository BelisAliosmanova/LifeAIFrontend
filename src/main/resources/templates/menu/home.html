<!DOCTYPE html>
<html lang="en" xmlns:th="">

<head>
    <meta charset="utf-8">
    <title>Life AI</title>
    <link rel="icon" href="https://life.bbca.bg/img/Group-1629.svg">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="" name="keywords">
    <meta content="" name="description">
    <th:block th:insert="~{fragments/links}"></th:block>
    <style>
        .search-box {
            display: flex;
            align-items: center;
            margin-top: 20px;
        }

        .search-box input[type="text"] {
            border-radius: 50px 0 0 50px;
            padding-left: 20px;
            border-right: none;
        }

        .search-box button {
            border-radius: 0 50px 50px 0;
        }

        .search-box .input-group {
            flex-grow: 1;
        }

        .search-box .btn {
            background-color: #007bff;
            color: white;
        }

        .btn-primary {
            width: 90%;
            max-width: 500px;  /* Adjust as per your layout */
            padding: 15px 20px;
            font-size: 18px;  /* Adjust font size if needed */
            text-align: center;
            border-radius: 50px;
        }
                .btn-danger {
            width: 100%;
            max-width: 500px;  /* Adjust as per your layout */
            padding: 15px 20px;
            font-size: 18px;  /* Adjust font size if needed */
            text-align: center;
            border-radius: 50px;
        }

         #loadingText {
            font-size: 14px;
            color: #888;
            font-style: italic;
            text-align: center;
            margin-top: 10px;
        }
    </style>
</head>

<body>
<th:block th:insert="~{fragments/header}"></th:block>
<!-- Contact Start -->
<div class="container py-5">
    <div class="text-center mx-auto mb-5 wow fadeInUp" data-wow-delay="0.1s" style="max-width: 600px;">
        <div class="d-flex align-items-center mb-4">
            <img width="64" height="64" src="https://img.icons8.com/pastel-glyph/64/person-male--v2.png"
                 alt="person-male--v2"/>
            <h2 class="display-6 mb-1" style="text-align: left;">Персонализирана информация</h2>
        </div>
    </div>
    <div class="row g-5 align-items-center">
        <div class="wow fadeInLeft" data-wow-delay="0.1s">
            <center>
                <div class="row g-3">
                    <div class="col-12">
                        <a href="/recommendedStudies">
                            <button class="btn btn-danger w-100 py-3">Препоръчителни изследвания</button>
                        </a>
                    </div>
                    <div class="col-12">
                        <a href="/diagnosisUploadFile">
                            <button class="btn btn-danger w-100 py-3">Разбиране на диагнозата</button>
                        </a>
                    </div>
                    <div class="col-12">
                        <button class="btn btn-danger w-100 py-3">Вече направена операция</button>
                    </div>
                    <div class="col-12">
                        <button class="btn btn-danger w-100 py-3">Предписано лечение</button>
                    </div>
                    <div class="col-12">
                        <button class="btn btn-danger w-100 py-3">Справяне със странични ефекти</button>
                    </div>
                </div>
            </center>
        </div>
    </div>
</div>
<div class="container mt-3" style="max-width: 600px;">
    <form th:action="@{/chat}" method="post" class="search-box" id="chatForm">
        <div class="input-group">
            <input type="text" class="form-control" id="message" name="message"
                   placeholder="Задайте въпрос, търсете информация в LifeAI..." required>
        </div>
        <button type="submit" class="btn btn-search">
            <img src="https://img.icons8.com/ios-glyphs/30/0000/search.png" alt="Search">
        </button>
        <br>
    </form>
    <!-- Loading text (initially hidden) -->
    <div id="loadingText" style="display:none; margin-top: 10px; font-size: 14px; color: #888;">
        Моля, изчакайте, резултатът се обработва. Това може да отнеме няколко секунди... Очаквайте отговор от LifeAI.
    </div>

    <!-- The response section that will appear on the new page -->
    <div class="mt-5" th:if="${response}">
        <h4>Response:</h4>
        <p th:text="${response}">AI Response will appear here...</p>
    </div>
</div>
<div class="container py-5">
    <div th:if="${successMessage}" class="alert alert-success" role="alert">
        <span th:text="${successMessage}"></span>
    </div>

    <div class="text-center mx-auto mb-5 wow fadeInUp" data-wow-delay="0.1s" style="max-width: 600px;">
        <div class="d-flex align-items-center mb-4">
            <img width="50" height="50" src="https://img.icons8.com/ios/50/info--v1.png" alt="info--v1"
                 class="me-3"/>
            <h2 class="display-6 mb-1" style="text-align: left;">Обща информация</h2>
        </div>
    </div>
    <div class="row g-5 align-items-center">
        <div class="wow fadeInLeft" data-wow-delay="0.1s">
            <center>
                <div class="row g-3">
                    <div class="col-12">
                        <a href="/limfedem">
                            <button class="btn btn-primary w-100 py-3">Лимфедем</button>
                        </a>
                    </div>
                    <div class="col-12">
                        <button class="btn btn-primary w-100 py-3">Органосъхраняваща информация</button>
                    </div>
                    <div class="col-12">
                        <button class="btn btn-primary w-100 py-3">Лекарства</button>
                    </div>
                    <div class="col-12">
                        <button class="btn btn-primary w-100 py-3">Предизвикана менопауза</button>
                    </div>
                    <div class="col-12">
                        <a href="/recipes">
                            <button class="btn btn-primary w-100 py-3">Рецепти</button>
                        </a>
                    </div>
                    <div class="col-12">
                        <a href="/exercises">
                            <button class="btn btn-primary w-100 py-3">Упражнения</button>
                        </a>
                    </div>
                    <div class="col-12">
                        <a href="/alternativeMedicine">
                            <button class="btn btn-primary w-100 py-3">Доказани алтернативни терапии
                            </button>
                        </a>
                    </div>
                </div>
            </center>
        </div>
    </div>
</div>
<!-- Contact End -->
<th:block th:insert="~{fragments/footer}"></th:block>
<script>
    const form = document.getElementById("chatForm");
    const loadingText = document.getElementById("loadingText");

    form.addEventListener("submit", function(event) {
        loadingText.style.display = "block";

        // disable the submit button to prevent multiple submissions
        form.querySelector("button[type='submit']").disabled = true;
    });
</script>
</body>

</html>